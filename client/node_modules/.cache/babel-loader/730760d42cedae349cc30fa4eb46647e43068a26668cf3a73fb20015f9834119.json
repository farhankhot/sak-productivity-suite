{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\farha\\\\OneDrive\\\\Documents\\\\sak-productivity-suite\\\\client\\\\src\\\\DisplayConvos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport DisplayThread from \"./DisplayThread.js\";\nimport { Link, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction DisplayConvos() {\n  _s();\n  const {\n    location\n  } = useLocation();\n  const {\n    cookie\n  } = location.state;\n  const [threadArray, setThreadArray] = useState([]);\n  const [threadName, setThreadName] = useState(null);\n  const [threadId, setThreadId] = useState(null);\n  useEffect(() => {\n    const handleGetThreads = async () => {\n      const response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          cookie: cookie\n        })\n      });\n      const data = await response.json();\n      const thread = data.message;\n      setThreadArray(thread);\n    };\n    handleGetThreads();\n  }, [cookie]);\n  const handleThreadClick = threadName => {\n    setThreadName(threadName[0]);\n    setThreadId(threadName[1]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: threadName && threadId ? /*#__PURE__*/_jsxDEV(DisplayThread, {\n      cookie: cookie,\n      threadName: threadName,\n      threadId: threadId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), threadArray.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: threadArray.map(threadName => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleThreadClick(threadName),\n          children: threadName[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this))\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n_s(DisplayConvos, \"2JfznKAlfBAh4P7m35au4IZna+s=\", false, function () {\n  return [useLocation];\n});\n_c = DisplayConvos;\nexport default DisplayConvos;\nvar _c;\n$RefreshReg$(_c, \"DisplayConvos\");","map":{"version":3,"names":["React","useState","useEffect","DisplayThread","Link","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","DisplayConvos","_s","location","cookie","state","threadArray","setThreadArray","threadName","setThreadName","threadId","setThreadId","handleGetThreads","response","fetch","method","headers","body","JSON","stringify","data","json","thread","message","handleThreadClick","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/DisplayConvos.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport DisplayThread from \"./DisplayThread.js\";\r\nimport {Link, useLocation} from 'react-router-dom';\r\n\r\nfunction DisplayConvos() {\r\n\t\r\n\tconst { location } = useLocation();\r\n\tconst { cookie } = location.state;\r\n\r\n\tconst [threadArray, setThreadArray] = useState([]);\r\n\tconst [threadName, setThreadName] = useState(null);\r\n\tconst [threadId, setThreadId] = useState(null);\r\n\r\n\tuseEffect( () => {\r\n\t\tconst handleGetThreads = async () => {\r\n\t\t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tcookie: cookie\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\tconst thread = data.message;\r\n\t\t\tsetThreadArray(thread);\r\n\t\t};\t\r\n\t\thandleGetThreads();\r\n\t}, [cookie]);\r\n\t\t\r\n\t\t\r\n\tconst handleThreadClick = (threadName) => {\r\n\t\tsetThreadName(threadName[0]);\r\n\t\tsetThreadId(threadName[1]);\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t{ (threadName && threadId) ? (\r\n\t\t\t<DisplayThread cookie={cookie} threadName={threadName} threadId={threadId} />\r\n\t\t) : (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Messages</h1>\r\n\t\t\t\r\n\t\t\t\t{threadArray.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t{threadArray.map( (threadName) => (\r\n\t\t\t\t\t\t<button onClick={() => handleThreadClick(threadName)}>{threadName[0]}</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)}\r\n\t\t</>\r\n\t)\r\n\r\n}\r\nexport default DisplayConvos;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,SAAQC,IAAI,EAAEC,WAAW,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEnD,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAExB,MAAM;IAAEC;EAAS,CAAC,GAAGP,WAAW,EAAE;EAClC,MAAM;IAAEQ;EAAO,CAAC,GAAGD,QAAQ,CAACE,KAAK;EAEjC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAE,MAAM;IAChB,MAAMmB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gEAAgE,EAAE;QAC9FC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACR,cAAc,EAAE;QACjB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACpBf,MAAM,EAAEA;QACT,CAAC;MACF,CAAC,CAAC;MAEF,MAAMgB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;MAClC,MAAMC,MAAM,GAAGF,IAAI,CAACG,OAAO;MAC3BhB,cAAc,CAACe,MAAM,CAAC;IACvB,CAAC;IACDV,gBAAgB,EAAE;EACnB,CAAC,EAAE,CAACR,MAAM,CAAC,CAAC;EAGZ,MAAMoB,iBAAiB,GAAIhB,UAAU,IAAK;IACzCC,aAAa,CAACD,UAAU,CAAC,CAAC,CAAC,CAAC;IAC5BG,WAAW,CAACH,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3B,CAAC;EAED,oBACCV,OAAA,CAAAE,SAAA;IAAAyB,QAAA,EACGjB,UAAU,IAAIE,QAAQ,gBACxBZ,OAAA,CAACJ,aAAa;MAACU,MAAM,EAAEA,MAAO;MAACI,UAAU,EAAEA,UAAW;MAACE,QAAQ,EAAEA;IAAS;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,gBAE7E/B,OAAA;MAAA2B,QAAA,gBACC3B,OAAA;QAAA2B,QAAA,EAAI;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,EAEhBvB,WAAW,CAACwB,MAAM,GAAG,CAAC,iBACtBhC,OAAA,CAAAE,SAAA;QAAAyB,QAAA,EACCnB,WAAW,CAACyB,GAAG,CAAGvB,UAAU,iBAC5BV,OAAA;UAAQkC,OAAO,EAAEA,CAAA,KAAMR,iBAAiB,CAAChB,UAAU,CAAE;UAAAiB,QAAA,EAAEjB,UAAU,CAAC,CAAC;QAAC;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACpE;MAAC,iBAEF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAEF,iBACE;AAGL;AAAC3B,EAAA,CAtDQD,aAAa;EAAA,QAEAL,WAAW;AAAA;AAAAqC,EAAA,GAFxBhC,aAAa;AAuDtB,eAAeA,aAAa;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}