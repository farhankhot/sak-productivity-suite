{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import DisplayThread from\"./DisplayThread.js\";import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DisplayConvos(props){var sessionId=props.sessionId;console.log(\"DisplayConvos sessionId: \",sessionId);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),threadArray=_useState2[0],setThreadArray=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),threadName=_useState4[0],setThreadName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),threadId=_useState6[0],setThreadId=_useState6[1];useEffect(function(){var handleGetThreads=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,thread;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:sessionId})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;thread=data.message;setThreadArray(thread);case 8:case\"end\":return _context.stop();}},_callee);}));return function handleGetThreads(){return _ref.apply(this,arguments);};}();if(sessionId){handleGetThreads();}},[sessionId]);var handleThreadClick=function handleThreadClick(threadName){setThreadName(threadName[0]);setThreadId(threadName[1]);};return/*#__PURE__*/_jsx(_Fragment,{children:threadName&&threadId?/*#__PURE__*/_jsx(DisplayThread,{sessionId:sessionId,threadName:threadName,threadId:threadId}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Messages\"}),threadArray.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:threadArray.map(function(threadName){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleThreadClick(threadName);},children:threadName[0]});})})]})});}export default DisplayConvos;","map":{"version":3,"names":["React","useState","useEffect","DisplayThread","useLocation","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DisplayConvos","props","sessionId","console","log","_useState","_useState2","_slicedToArray","threadArray","setThreadArray","_useState3","_useState4","threadName","setThreadName","_useState5","_useState6","threadId","setThreadId","handleGetThreads","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","thread","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","message","stop","apply","arguments","handleThreadClick","children","length","map","onClick"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/DisplayConvos.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport DisplayThread from \"./DisplayThread.js\";\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nfunction DisplayConvos(props) {\r\n\r\n\tconst {sessionId} = props;\r\n\tconsole.log(\"DisplayConvos sessionId: \", sessionId);\r\n\r\n\tconst [threadArray, setThreadArray] = useState([]);\r\n\tconst [threadName, setThreadName] = useState(null);\r\n\tconst [threadId, setThreadId] = useState(null);\r\n\r\n\tuseEffect( () => {\r\n\t\tconst handleGetThreads = async () => {\r\n\t\t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tsessionId: sessionId\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\tconst thread = data.message;\r\n\t\t\tsetThreadArray(thread);\r\n\t\t};\t\r\n\t\tif (sessionId) {\r\n\t\t\thandleGetThreads();\r\n\t\t}\r\n\t}, [sessionId]);\r\n\t\t\r\n\tconst handleThreadClick = (threadName) => {\r\n\t\tsetThreadName(threadName[0]);\r\n\t\tsetThreadId(threadName[1]);\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t{ (threadName && threadId) ? (\r\n\t\t\t<DisplayThread sessionId={sessionId} threadName={threadName} threadId={threadId} />\r\n\t\t) : (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Messages</h1>\r\n\t\t\t\r\n\t\t\t\t{threadArray.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t{threadArray.map( (threadName) => (\r\n\t\t\t\t\t\t<button onClick={() => handleThreadClick(threadName)}>{threadName[0]}</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)}\r\n\t\t</>\r\n\t)\r\n\r\n}\r\nexport default DisplayConvos;"],"mappings":"+cAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,OAAQC,WAAW,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CAE7B,GAAO,CAAAC,SAAS,CAAID,KAAK,CAAlBC,SAAS,CAChBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEF,SAAS,CAAC,CAEnD,IAAAG,SAAA,CAAsCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAoCpB,QAAQ,CAAC,IAAI,CAAC,CAAAqB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAgCxB,QAAQ,CAAC,IAAI,CAAC,CAAAyB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5BxB,SAAS,CAAE,UAAM,CAChB,GAAM,CAAA2B,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAC,MAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACD,CAAAC,KAAK,CAAC,gEAAgE,CAAE,CAC9FC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACpBnC,SAAS,CAAEA,SACZ,CAAC,CACF,CAAC,CAAC,QARIsB,QAAQ,CAAAK,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAUK,CAAAP,QAAQ,CAACe,IAAI,EAAE,QAA5Bd,IAAI,CAAAI,QAAA,CAAAS,IAAA,CACJZ,MAAM,CAAGD,IAAI,CAACe,OAAO,CAC3B/B,cAAc,CAACiB,MAAM,CAAC,CAAC,wBAAAG,QAAA,CAAAY,IAAA,MAAAlB,OAAA,GACvB,kBAdK,CAAAL,gBAAgBA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAcrB,CACD,GAAIzC,SAAS,CAAE,CACdgB,gBAAgB,EAAE,CACnB,CACD,CAAC,CAAE,CAAChB,SAAS,CAAC,CAAC,CAEf,GAAM,CAAA0C,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIhC,UAAU,CAAK,CACzCC,aAAa,CAACD,UAAU,CAAC,CAAC,CAAC,CAAC,CAC5BK,WAAW,CAACL,UAAU,CAAC,CAAC,CAAC,CAAC,CAC3B,CAAC,CAED,mBACCjB,IAAA,CAAAE,SAAA,EAAAgD,QAAA,CACGjC,UAAU,EAAII,QAAQ,cACxBrB,IAAA,CAACH,aAAa,EAACU,SAAS,CAAEA,SAAU,CAACU,UAAU,CAAEA,UAAW,CAACI,QAAQ,CAAEA,QAAS,EAAG,cAEnFjB,KAAA,QAAA8C,QAAA,eACClD,IAAA,OAAAkD,QAAA,CAAI,UAAQ,EAAK,CAEhBrC,WAAW,CAACsC,MAAM,CAAG,CAAC,eACtBnD,IAAA,CAAAE,SAAA,EAAAgD,QAAA,CACCrC,WAAW,CAACuC,GAAG,CAAE,SAACnC,UAAU,qBAC5BjB,IAAA,WAAQqD,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAJ,iBAAiB,CAAChC,UAAU,CAAC,EAAC,CAAAiC,QAAA,CAAEjC,UAAU,CAAC,CAAC,CAAC,EAAU,EAC9E,CAAC,EAEF,GAEF,EACE,CAGL,CACA,cAAe,CAAAZ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}