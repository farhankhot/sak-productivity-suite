{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function CheckJobStatusArray(_x,_x2){return _CheckJobStatusArray.apply(this,arguments);}function _CheckJobStatusArray(){_CheckJobStatusArray=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(jobId,onSuccess){var response,data,status,resultArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://sak-productivity-suite.herokuapp.com/job-status\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({jobId:jobId})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;status=data.status;if(!(status===\"finished\")){_context.next=13;break;}resultArray=data.result;onSuccess(resultArray);_context.next=14;break;case 13:return _context.abrupt(\"return\",new Promise(function(resolve){return setTimeout(function(){return resolve(CheckJobStatusArray(jobId));},500);}));case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.log(\"An error has occured (CheckJobStatus): \",_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return _CheckJobStatusArray.apply(this,arguments);}","map":{"version":3,"names":["CheckJobStatusArray","_x","_x2","_CheckJobStatusArray","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","jobId","onSuccess","response","data","status","resultArray","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","result","abrupt","Promise","resolve","setTimeout","t0","console","log","stop"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/CheckJobStatusArray.js"],"sourcesContent":["export async function CheckJobStatusArray(jobId, onSuccess) {\r\n\ttry {\r\n\t\t\r\n\t\tconst response = await fetch(\"https://sak-productivity-suite.herokuapp.com/job-status\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tjobId: jobId\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\tconst data = await response.json();\r\n\t\tconst status = data.status;\r\n\t\t\r\n\t\tif (status === \"finished\") {\r\n\t\t\tconst resultArray = data.result;\r\n\t\t\tonSuccess(resultArray);\r\n\t\t} else {\r\n\t\t\t// setTimeout(() => CheckJobStatus(jobId, onSuccess), 500);\r\n\t\t\treturn new Promise(resolve => setTimeout(() => resolve(CheckJobStatusArray(jobId)), 500));\r\n\t\t}\r\n\t\t\r\n\r\n\t}catch(error){\r\n\t\tconsole.log(\"An error has occured (CheckJobStatus): \", error);\r\n\t}\r\n}"],"mappings":"0TAAA,eAAsB,CAAAA,mBAAmBA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,oBAAA,CAAAC,KAAA,MAAAC,SAAA,GA4BxC,SAAAF,qBAAA,EAAAA,oBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CA5BM,SAAAC,QAAmCC,KAAK,CAAEC,SAAS,MAAAC,QAAA,CAAAC,IAAA,CAAAC,MAAA,CAAAC,WAAA,QAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGjC,CAAAC,KAAK,CAAC,yDAAyD,CAAE,CACvFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACpBhB,KAAK,CAAEA,KACR,CAAC,CACF,CAAC,CAAC,QARIE,QAAQ,CAAAM,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAUK,CAAAR,QAAQ,CAACgB,IAAI,EAAE,QAA5Bf,IAAI,CAAAK,QAAA,CAAAS,IAAA,CACJb,MAAM,CAAGD,IAAI,CAACC,MAAM,MAEtBA,MAAM,GAAK,UAAU,GAAAI,QAAA,CAAAE,IAAA,WAClBL,WAAW,CAAGF,IAAI,CAACgB,MAAM,CAC/BlB,SAAS,CAACI,WAAW,CAAC,CAACG,QAAA,CAAAE,IAAA,yBAAAF,QAAA,CAAAY,MAAA,UAGhB,GAAI,CAAAC,OAAO,CAAC,SAAAC,OAAO,QAAI,CAAAC,UAAU,CAAC,iBAAM,CAAAD,OAAO,CAAChC,mBAAmB,CAACU,KAAK,CAAC,CAAC,GAAE,GAAG,CAAC,GAAC,UAAAQ,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAgB,EAAA,CAAAhB,QAAA,aAK1FiB,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAAlB,QAAA,CAAAgB,EAAA,CAAQ,CAAC,yBAAAhB,QAAA,CAAAmB,IAAA,MAAA5B,OAAA,iBAE/D,UAAAN,oBAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}