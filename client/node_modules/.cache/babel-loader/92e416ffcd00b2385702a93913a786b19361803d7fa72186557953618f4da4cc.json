{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\farha\\\\OneDrive\\\\Documents\\\\sak-productivity-suite\\\\client\\\\src\\\\DisplayConvos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport DisplayThread from \"./DisplayThread.js\";\nimport { Link, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction DisplayConvos(props) {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const {\n    cookie\n  } = state.cookie;\n  console.log(cookie);\n  const [threadArray, setThreadArray] = useState([]);\n  const [threadName, setThreadName] = useState(null);\n  const [threadId, setThreadId] = useState(null);\n\n  // useEffect( () => {\n  // \tconst handleGetThreads = async () => {\n  // \t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\n  // \t\t\tmethod: 'POST',\n  // \t\t\theaders: {\n  // \t\t\t\t'Content-Type': 'application/json',\n  // \t\t\t},\n  // \t\t\tbody: JSON.stringify({\n  // \t\t\t\tcookie: cookie\n  // \t\t\t})\n  // \t\t});\n\n  // \t\tconst data = await response.json();\n  // \t\tconst thread = data.message;\n  // \t\tsetThreadArray(thread);\n  // \t};\t\n  // \tif (cookie) {\n  // \t\thandleGetThreads();\n  // \t}\n  // }, [cookie]);\n\n  const handleGetThreads = async () => {\n    const response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        cookie: cookie\n      })\n    });\n    const data = await response.json();\n    const thread = data.message;\n    setThreadArray(thread);\n  };\n  const handleThreadClick = threadName => {\n    setThreadName(threadName[0]);\n    setThreadId(threadName[1]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: threadName && threadId ? /*#__PURE__*/_jsxDEV(DisplayThread, {\n      cookie: cookie,\n      threadName: threadName,\n      threadId: threadId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), threadArray.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: threadArray.map(threadName => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleThreadClick(threadName),\n          children: threadName[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this))\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n_s(DisplayConvos, \"gh4LNupVC4ZRi0HKayM5EiaKyOo=\", false, function () {\n  return [useLocation];\n});\n_c = DisplayConvos;\nexport default DisplayConvos;\nvar _c;\n$RefreshReg$(_c, \"DisplayConvos\");","map":{"version":3,"names":["React","useState","useEffect","DisplayThread","Link","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","DisplayConvos","props","_s","state","cookie","console","log","threadArray","setThreadArray","threadName","setThreadName","threadId","setThreadId","handleGetThreads","response","fetch","method","headers","body","JSON","stringify","data","json","thread","message","handleThreadClick","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/DisplayConvos.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport DisplayThread from \"./DisplayThread.js\";\r\nimport {Link, useLocation} from 'react-router-dom';\r\n\r\nfunction DisplayConvos(props) {\r\n\r\n\tconst { state } = useLocation();\r\n\tconst { cookie } = state.cookie;\r\n\tconsole.log(cookie);\r\n\r\n\tconst [threadArray, setThreadArray] = useState([]);\r\n\tconst [threadName, setThreadName] = useState(null);\r\n\tconst [threadId, setThreadId] = useState(null);\r\n\r\n\t// useEffect( () => {\r\n\t// \tconst handleGetThreads = async () => {\r\n\t// \t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\r\n\t// \t\t\tmethod: 'POST',\r\n\t// \t\t\theaders: {\r\n\t// \t\t\t\t'Content-Type': 'application/json',\r\n\t// \t\t\t},\r\n\t// \t\t\tbody: JSON.stringify({\r\n\t// \t\t\t\tcookie: cookie\r\n\t// \t\t\t})\r\n\t// \t\t});\r\n\r\n\t// \t\tconst data = await response.json();\r\n\t// \t\tconst thread = data.message;\r\n\t// \t\tsetThreadArray(thread);\r\n\t// \t};\t\r\n\t// \tif (cookie) {\r\n\t// \t\thandleGetThreads();\r\n\t// \t}\r\n\t// }, [cookie]);\r\n\r\n\tconst handleGetThreads = async () => {\r\n\t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-threads', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tcookie: cookie\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\tconst data = await response.json();\r\n\t\tconst thread = data.message;\r\n\t\tsetThreadArray(thread);\r\n\t};\r\n\t\t\r\n\t\t\r\n\tconst handleThreadClick = (threadName) => {\r\n\t\tsetThreadName(threadName[0]);\r\n\t\tsetThreadId(threadName[1]);\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t{ (threadName && threadId) ? (\r\n\t\t\t<DisplayThread cookie={cookie} threadName={threadName} threadId={threadId} />\r\n\t\t) : (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Messages</h1>\r\n\t\t\t\r\n\t\t\t\t{threadArray.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t{threadArray.map( (threadName) => (\r\n\t\t\t\t\t\t<button onClick={() => handleThreadClick(threadName)}>{threadName[0]}</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)}\r\n\t\t</>\r\n\t)\r\n\r\n}\r\nexport default DisplayConvos;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,SAAQC,IAAI,EAAEC,WAAW,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEnD,SAASC,aAAaA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAE7B,MAAM;IAAEC;EAAM,CAAC,GAAGR,WAAW,EAAE;EAC/B,MAAM;IAAES;EAAO,CAAC,GAAGD,KAAK,CAACC,MAAM;EAC/BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;EAEnB,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMsB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gEAAgE,EAAE;MAC9FC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACR,cAAc,EAAE;MACjB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACpBhB,MAAM,EAAEA;MACT,CAAC;IACF,CAAC,CAAC;IAEF,MAAMiB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,MAAMC,MAAM,GAAGF,IAAI,CAACG,OAAO;IAC3BhB,cAAc,CAACe,MAAM,CAAC;EACvB,CAAC;EAGD,MAAME,iBAAiB,GAAIhB,UAAU,IAAK;IACzCC,aAAa,CAACD,UAAU,CAAC,CAAC,CAAC,CAAC;IAC5BG,WAAW,CAACH,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3B,CAAC;EAED,oBACCZ,OAAA,CAAAE,SAAA;IAAA2B,QAAA,EACGjB,UAAU,IAAIE,QAAQ,gBACxBd,OAAA,CAACJ,aAAa;MAACW,MAAM,EAAEA,MAAO;MAACK,UAAU,EAAEA,UAAW;MAACE,QAAQ,EAAEA;IAAS;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,gBAE7EjC,OAAA;MAAA6B,QAAA,gBACC7B,OAAA;QAAA6B,QAAA,EAAI;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,EAEhBvB,WAAW,CAACwB,MAAM,GAAG,CAAC,iBACtBlC,OAAA,CAAAE,SAAA;QAAA2B,QAAA,EACCnB,WAAW,CAACyB,GAAG,CAAGvB,UAAU,iBAC5BZ,OAAA;UAAQoC,OAAO,EAAEA,CAAA,KAAMR,iBAAiB,CAAChB,UAAU,CAAE;UAAAiB,QAAA,EAAEjB,UAAU,CAAC,CAAC;QAAC;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACpE;MAAC,iBAEF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAEF,iBACE;AAGL;AAAC5B,EAAA,CAzEQF,aAAa;EAAA,QAEHL,WAAW;AAAA;AAAAuC,EAAA,GAFrBlC,aAAa;AA0EtB,eAAeA,aAAa;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}