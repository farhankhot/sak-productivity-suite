{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function CheckJobStatus(_x,_x2){return _CheckJobStatus.apply(this,arguments);}function _CheckJobStatus(){_CheckJobStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(jobId,onSuccess){var response,data,status,resultArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://sak-productivity-suite.herokuapp.com/job-status\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({jobId:jobId})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;status=data.status;if(status===\"finished\"){resultArray=data.result;onSuccess(resultArray);}else{setTimeout(function(){return CheckJobStatus(jobId,onSuccess);},5000);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"An error has occured (CheckJobStatus): \",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return _CheckJobStatus.apply(this,arguments);}","map":{"version":3,"names":["CheckJobStatus","_x","_x2","_CheckJobStatus","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","jobId","onSuccess","response","data","status","resultArray","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","result","setTimeout","t0","console","log","stop"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/CheckJobStatus.js"],"sourcesContent":["export async function CheckJobStatus(jobId, onSuccess) {\r\n\ttry {\r\n\t\t\r\n\t\tconst response = await fetch(\"https://sak-productivity-suite.herokuapp.com/job-status\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tjobId: jobId\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\tconst data = await response.json();\r\n\t\tconst status = data.status;\r\n\t\t\r\n\t\tif (status === \"finished\") {\r\n\t\t\tconst resultArray = data.result;\r\n\t\t\tonSuccess(resultArray);\r\n\t\t} else {\r\n\t\t\tsetTimeout(() => CheckJobStatus(jobId, onSuccess), 5000);\r\n\t\t}\r\n\t\t\r\n\r\n\t}catch(error){\r\n\t\tconsole.log(\"An error has occured (CheckJobStatus): \", error);\r\n\t}\r\n}"],"mappings":"0TAAA,eAAsB,CAAAA,cAAcA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,eAAA,CAAAC,KAAA,MAAAC,SAAA,GA2BnC,SAAAF,gBAAA,EAAAA,eAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CA3BM,SAAAC,QAA8BC,KAAK,CAAEC,SAAS,MAAAC,QAAA,CAAAC,IAAA,CAAAC,MAAA,CAAAC,WAAA,QAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG5B,CAAAC,KAAK,CAAC,yDAAyD,CAAE,CACvFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACpBhB,KAAK,CAAEA,KACR,CAAC,CACF,CAAC,CAAC,QARIE,QAAQ,CAAAM,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAUK,CAAAR,QAAQ,CAACgB,IAAI,EAAE,QAA5Bf,IAAI,CAAAK,QAAA,CAAAS,IAAA,CACJb,MAAM,CAAGD,IAAI,CAACC,MAAM,CAE1B,GAAIA,MAAM,GAAK,UAAU,CAAE,CACpBC,WAAW,CAAGF,IAAI,CAACgB,MAAM,CAC/BlB,SAAS,CAACI,WAAW,CAAC,CACvB,CAAC,IAAM,CACNe,UAAU,CAAC,iBAAM,CAAA9B,cAAc,CAACU,KAAK,CAAEC,SAAS,CAAC,GAAE,IAAI,CAAC,CACzD,CAACO,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAIDc,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAAf,QAAA,CAAAa,EAAA,CAAQ,CAAC,yBAAAb,QAAA,CAAAgB,IAAA,MAAAzB,OAAA,iBAE/D,UAAAN,eAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}