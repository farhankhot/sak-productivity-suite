{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DisplayThread(){var _location$state,_location$state2,_location$state3;var location=useLocation();var sessionId=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.sessionId;var threadName=(_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.threadName;var threadId=(_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.threadId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),convoArray=_useState2[0],setConvoArray=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),replyTextArea=_useState4[0],setReplyTextArea=_useState4[1];useEffect(function(){var handleGetSingleThread=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,thread;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://sak-productivity-suite.herokuapp.com/get-convo-messages',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:sessionId,threadId:threadId})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;thread=data.message;setConvoArray(thread);case 8:case\"end\":return _context.stop();}},_callee);}));return function handleGetSingleThread(){return _ref.apply(this,arguments);};}();handleGetSingleThread();},[]);var handleMakingReply=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var prompt,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:prompt=\"Reply to this: \"+convoArray;_context2.prev=1;_context2.next=4;return fetch(\"https://sak-productivity-suite.herokuapp.com/use-bingai\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({prompt:prompt})});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;setReplyTextArea(data.message);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[1,11]]);}));return function handleMakingReply(){return _ref2.apply(this,arguments);};}();var handleSendingMessage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"https://sak-productivity-suite.herokuapp.com/send-message\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({sessionId:sessionId,profileId:threadId,text:replyTextArea})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;console.log(\"Successfully sent the message to the person\",data.message);_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function handleSendingMessage(){return _ref3.apply(this,arguments);};}();var handleReplyTextAreaChange=function handleReplyTextAreaChange(event){setReplyTextArea(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:threadName}),convoArray.map(function(message){return/*#__PURE__*/_jsx(\"p\",{children:message[0]});}),/*#__PURE__*/_jsx(\"textarea\",{value:replyTextArea,onChange:handleReplyTextAreaChange,placeholder:\"The generated note will appear here\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleMakingReply,children:\"Reply\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendingMessage,children:\"Send Message\"})]});}export default DisplayThread;","map":{"version":3,"names":["React","useState","useEffect","useLocation","jsx","_jsx","jsxs","_jsxs","DisplayThread","_location$state","_location$state2","_location$state3","location","sessionId","state","threadName","threadId","_useState","_useState2","_slicedToArray","convoArray","setConvoArray","_useState3","_useState4","replyTextArea","setReplyTextArea","handleGetSingleThread","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","thread","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","message","stop","apply","arguments","handleMakingReply","_ref2","_callee2","prompt","_callee2$","_context2","t0","console","log","handleSendingMessage","_ref3","_callee3","_callee3$","_context3","profileId","text","handleReplyTextAreaChange","event","target","value","children","map","onChange","placeholder","onClick"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/DisplayThread.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction DisplayThread() {\r\n\r\n\tconst location = useLocation();\r\n\tconst sessionId = location.state?.sessionId;\r\n\tconst threadName = location.state?.threadName;\r\n\tconst threadId = location.state?.threadId;\r\n\t\r\n\tconst [convoArray, setConvoArray] = useState([]);\r\n\tconst [replyTextArea, setReplyTextArea] = useState([]);\r\n\r\n\tuseEffect( () => {\r\n\t\t\r\n\t\tconst handleGetSingleThread = async () => {\r\n\t\t\r\n\t\t\tconst response = await fetch('https://sak-productivity-suite.herokuapp.com/get-convo-messages', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tsessionId: sessionId,\r\n\t\t\t\t\tthreadId: threadId\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\tconst thread = data.message;\r\n\t\t\tsetConvoArray(thread);\r\n\t\t};\t\r\n\t\thandleGetSingleThread();\r\n\t}, []);\r\n\t\r\n\tconst handleMakingReply = async() => {\r\n\t\tconst prompt = \"Reply to this: \" + convoArray;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"https://sak-productivity-suite.herokuapp.com/use-bingai\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tprompt: prompt\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tconst data = await response.json();\r\n\t\t\tsetReplyTextArea(data.message);\t\t\t\r\n\r\n\t\t}catch(error){\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst handleSendingMessage = async () => {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"https://sak-productivity-suite.herokuapp.com/send-message\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tsessionId: sessionId,\r\n\t\t\t\t\tprofileId: threadId,\r\n\t\t\t\t\ttext: replyTextArea\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\tconsole.log(\"Successfully sent the message to the person\", data.message);\r\n\t\t\t\r\n\t\t}catch(error){\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst handleReplyTextAreaChange = (event) => {\r\n\t\tsetReplyTextArea(event.target.value);\r\n\t};\r\n\t\t\r\n\treturn (\r\n\t\t<div>\r\n            <h1>{threadName}</h1>\r\n\t\t\t{convoArray.map( (message) => (\r\n\t\t\t\t<p>{message[0]}</p>\r\n\t\t\t))}\r\n            <textarea value={replyTextArea} onChange={handleReplyTextAreaChange} placeholder=\"The generated note will appear here\"></textarea>\r\n            <button onClick={handleMakingReply}>Reply</button>\r\n            <button onClick={handleSendingMessage}>Send Message</button>\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\nexport default DisplayThread;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}