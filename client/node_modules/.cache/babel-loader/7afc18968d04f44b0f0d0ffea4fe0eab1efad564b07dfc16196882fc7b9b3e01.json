{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*global chrome*/import React,{useState,useEffect}from\"react\";import{CheckJobStatus}from\"./CheckJobStatus.js\";import DisplaySearchResults from\"./DisplaySearchResults.js\";import DisplayConvos from\"./DisplayConvos.js\";import loadingGif from\"./loading.gif\";// TODO: Fix relative imports (loadingGif should be in /public/)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileSearch(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cookie=_useState2[0],setCookie=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),location=_useState6[0],setLocation=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),currentCompany=_useState8[0],setCurrentCompany=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),mutualConnectionsBoolean=_useState10[0],setMutualConnectionsBoolean=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),jobFinished=_useState12[0],setJobFinished=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),resultArray=_useState14[0],setResultArray=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),navigateToMessages=_useState16[0],setNavigateToMessages=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoading=_useState18[0],setIsLoading=_useState18[1];useEffect(function(){var getCookieFromLocalStorage=function getCookieFromLocalStorage(){chrome.storage.local.get([\"LinkedInCookie\"]).then(function(result){setCookie(result.LinkedInCookie);});};getCookieFromLocalStorage();},[]);var handleSearchRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,jobId;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"ProfileSearch cookie: \",cookie);_context.prev=1;_context.next=4;return fetch(\"https://sak-productivity-suite.herokuapp.com/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({cookie:cookie,title:title,location:location,currentCompany:currentCompany,mutualConnections:mutualConnectionsBoolean})});case 4:response=_context.sent;setIsLoading(true);_context.next=8;return response.json();case 8:data=_context.sent;jobId=data.message;CheckJobStatus(jobId,function(resultArray){setResultArray(resultArray);setJobFinished(true);});_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function handleSearchRequest(){return _ref.apply(this,arguments);};}();var handleMessagesButton=function handleMessagesButton(){setNavigateToMessages(true);};return/*#__PURE__*/_jsx(_Fragment,{children:jobFinished===true?/*#__PURE__*/_jsx(DisplaySearchResults,{cookie:cookie,resultArray:resultArray}):/*#__PURE__*/_jsxs(_Fragment,{children:[!isLoading&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleMessagesButton,children:\"Messages\"}),navigateToMessages&&/*#__PURE__*/_jsx(DisplayConvos,{cookie:cookie})]}),!navigateToMessages&&!isLoading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter a title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Current Company\",value:currentCompany,onChange:function onChange(e){return setCurrentCompany(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:mutualConnectionsBoolean,onChange:function onChange(e){return setMutualConnectionsBoolean(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mutualConnectionsBoolean\",children:\"Get Mutual Connections?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearchRequest,children:\"Search\"})]}),isLoading&&/*#__PURE__*/_jsx(\"img\",{src:loadingGif,alt:\"loading\"})]})});}export default ProfileSearch;","map":{"version":3,"names":["React","useState","useEffect","CheckJobStatus","DisplaySearchResults","DisplayConvos","loadingGif","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileSearch","_useState","_useState2","_slicedToArray","cookie","setCookie","_useState3","_useState4","title","setTitle","_useState5","_useState6","location","setLocation","_useState7","_useState8","currentCompany","setCurrentCompany","_useState9","_useState10","mutualConnectionsBoolean","setMutualConnectionsBoolean","_useState11","_useState12","jobFinished","setJobFinished","_useState13","_useState14","resultArray","setResultArray","_useState15","_useState16","navigateToMessages","setNavigateToMessages","_useState17","_useState18","isLoading","setIsLoading","getCookieFromLocalStorage","chrome","storage","local","get","then","result","LinkedInCookie","handleSearchRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","jobId","wrap","_callee$","_context","prev","next","console","log","fetch","method","headers","body","JSON","stringify","mutualConnections","sent","json","message","t0","error","stop","apply","arguments","handleMessagesButton","children","onClick","type","placeholder","value","onChange","e","target","htmlFor","src","alt"],"sources":["C:/Users/farha/OneDrive/Documents/sak-productivity-suite/client/src/ProfileSearch.js"],"sourcesContent":["/*global chrome*/\r\nimport React, {useState, useEffect} from \"react\";\r\nimport {CheckJobStatus} from \"./CheckJobStatus.js\";\r\nimport DisplaySearchResults from \"./DisplaySearchResults.js\";\r\nimport DisplayConvos from \"./DisplayConvos.js\";\r\nimport loadingGif from \"./loading.gif\";\r\n\r\n// TODO: Fix relative imports (loadingGif should be in /public/)\r\n\r\nfunction ProfileSearch() {\r\n\t\r\n\tconst [cookie, setCookie] = useState(\"\");\r\n\t\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [location, setLocation] = useState(\"\");\r\n\tconst [currentCompany, setCurrentCompany] = useState(\"\");\r\n\tconst [mutualConnectionsBoolean, setMutualConnectionsBoolean] = useState(false);\r\n\t\r\n\tconst [jobFinished, setJobFinished] = useState(false);\r\n\tconst [resultArray, setResultArray] = useState([]);\r\n\t\r\n\tconst [navigateToMessages, setNavigateToMessages] = useState(false);\r\n\t\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tuseEffect( () => {\r\n\t\tconst getCookieFromLocalStorage = () => {\r\n\t\t\tchrome.storage.local.get([\"LinkedInCookie\"]).then((result) => {\r\n\t\t\t\tsetCookie(result.LinkedInCookie);\r\n\t\t\t});\r\n\t\t}\r\n\t\tgetCookieFromLocalStorage();\r\n\t}, []);\t\r\n\t\t\r\n\tconst handleSearchRequest = async () => {\r\n\t\tconsole.log(\"ProfileSearch cookie: \", cookie);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"https://sak-productivity-suite.herokuapp.com/\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tcookie: cookie,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tlocation: location,\r\n\t\t\t\t\tcurrentCompany: currentCompany,\r\n\t\t\t\t\tmutualConnections: mutualConnectionsBoolean\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tconst data = await response.json();\r\n\t\t\tconst jobId = data.message;\r\n\t\t\t\r\n\t\t\tCheckJobStatus(jobId, (resultArray) => {\r\n\t\t\t\tsetResultArray(resultArray);\t\r\n\t\t\t\tsetJobFinished(true);\r\n\t\t\t});\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst handleMessagesButton = () => {\r\n\t\tsetNavigateToMessages(true);\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t{jobFinished === true ? (\r\n\t\t\t<DisplaySearchResults cookie={cookie} resultArray={resultArray} />\r\n\t\t) : (\r\n\t\t\t<>\r\n\t\t\t{!isLoading && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick={handleMessagesButton}>\r\n\t\t\t\t\t\tMessages\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{navigateToMessages && <DisplayConvos cookie={cookie} />}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!navigateToMessages && !isLoading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter a title\" value={title} onChange={(e) => setTitle(e.target.value)}  />\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Location\" value={location} onChange={(e) => setLocation(e.target.value)} />\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Current Company\" value={currentCompany} onChange={(e) => setCurrentCompany(e.target.value)} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<input type=\"checkbox\" value={mutualConnectionsBoolean} onChange={(e) => setMutualConnectionsBoolean(e.target.value)} />\r\n\t\t\t\t\t<label htmlFor=\"mutualConnectionsBoolean\">\r\n\t\t\t\t\t\tGet Mutual Connections?\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={handleSearchRequest}>\r\n\t\t\t\t\t\tSearch\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{isLoading && <img src={loadingGif} alt=\"loading\" />}\r\n\t\t\t</>\r\n\t\t)}\t\t\r\n\t\t</>\r\n\t);\r\n\t\r\n}\r\nexport default ProfileSearch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}